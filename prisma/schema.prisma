generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
} 
model Article{
  id String @id @unique @default(cuid())
  title String
  content String
  summary String
  userId String
  user User @relation(fields: [userId],references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  quizzes Quiz[]
}
model User{
  id String @id @unique @default(cuid())
  clerkId String @unique
  email String @unique
  name String?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
  articles Article[]
  quizAttempts QuizAttempt[]
  userScores UserScores[]
}
model Quiz{
   id String @id @unique @default(cuid())
   question String
   options String[]
   answer String
   articleId String
   article Article @relation(fields: [articleId],references: [id])
   createdAt DateTime @default(now())
   updatedAt DateTime @default(now())
   quizAttempts QuizAttempt[]
   userScores UserScores[]
}
model QuizAttempt{
   id String @id @unique @default(cuid())
   userId String
   user User @relation(fields: [userId],references: [id])
   quizId String
   quiz Quiz @relation(fields: [quizId],references: [id])
}
model UserScores{
   id String @id @unique @default(cuid())
   userId String
   user User @relation(fields: [userId],references: [id])
   quizId String
   quiz Quiz @relation(fields: [quizId],references: [id])
   totalScore Int
}